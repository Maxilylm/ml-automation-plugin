{
  "hooks": {
    "PreToolUse": [
    {
      "matcher": "Bash(git commit:*)",
      "hooks": [
        {
          "type": "command",
          "command": "bash ${CLAUDE_PLUGIN_ROOT}/hooks/pre-commit.sh",
          "timeout": 30000,
          "onError": "warn"
        }
      ]
    },
    {
      "matcher": "Bash(docker-compose up:*)",
      "hooks": [
        {
          "type": "command",
          "command": "bash ${CLAUDE_PLUGIN_ROOT}/hooks/pre-deploy.sh local",
          "timeout": 60000,
          "onError": "stop"
        }
      ]
    }
  ],
  "PostToolUse": [
    {
      "matcher": "Write(*.py)",
      "hooks": [
        {
          "type": "command",
          "command": "echo '[Hook] Python file written' && if command -v black &>/dev/null; then black --quiet \"$CLAUDE_TOOL_ARG_FILE_PATH\" 2>/dev/null || true; fi",
          "timeout": 10000,
          "onError": "ignore"
        }
      ]
    },
    {
      "matcher": "Write(dashboard/*.py)",
      "hooks": [
        {
          "type": "command",
          "command": "bash ${CLAUDE_PLUGIN_ROOT}/hooks/post-dashboard.sh \"$CLAUDE_TOOL_ARG_FILE_PATH\"",
          "timeout": 15000,
          "onError": "warn"
        }
      ]
    },
    {
      "matcher": "Task",
      "hooks": [
        {
          "type": "command",
          "command": "mkdir -p .claude && echo \"$(date '+%Y-%m-%d %H:%M:%S') - Agent completed: $CLAUDE_TOOL_ARG_SUBAGENT_TYPE\" >> .claude/agent_activity.log",
          "timeout": 5000,
          "onError": "ignore"
        }
      ]
    },
    {
      "matcher": "Bash(pytest:*)",
      "hooks": [
        {
          "type": "command",
          "command": "echo '[Hook] Tests completed' && mkdir -p .claude && echo \"$(date '+%Y-%m-%d %H:%M:%S') - Tests run\" >> .claude/workflow.log",
          "timeout": 5000,
          "onError": "ignore"
        }
      ]
    }
  ]
  }
}
